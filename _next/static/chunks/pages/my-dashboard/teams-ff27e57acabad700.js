(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{99245:function(e,n,t){e=t.nmd(e);var r,a,i,o="[object Map]",s="[object Promise]",c="[object Set]",l="[object WeakMap]",u="[object DataView]",d=/^\[object .+?Constructor\]$/,m="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=m||p||Function("return this")(),h=n&&!n.nodeType&&n,x=h&&e&&!e.nodeType&&e,b=x&&x.exports===h,v=Function.prototype,g=Object.prototype,j=f["__core-js_shared__"],y=(r=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",w=v.toString,Z=g.hasOwnProperty,S=g.toString,P=RegExp("^"+w.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=b?f.Buffer:void 0,O=g.propertyIsEnumerable,C=k?k.isBuffer:void 0,A=(a=Object.keys,i=Object,function(e){return a(i(e))}),T=_(f,"DataView"),E=_(f,"Map"),D=_(f,"Promise"),N=_(f,"Set"),F=_(f,"WeakMap"),I=!O.call({valueOf:1},"valueOf"),R=G(T),M=G(E),z=G(D),B=G(N),U=G(F);function _(e,n){var t=null==e?void 0:e[n];return!(!W(t)||y&&y in t)&&(L(t)||function(e){var n=!1;if(null!=e&&"function"!=typeof e.toString)try{n=!!(e+"")}catch(e){}return n}(t)?P:d).test(G(t))?t:void 0}var H=function(e){return S.call(e)};function G(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(T&&H(new T(new ArrayBuffer(1)))!=u||E&&H(new E)!=o||D&&H(D.resolve())!=s||N&&H(new N)!=c||F&&H(new F)!=l)&&(H=function(e){var n=S.call(e),t="[object Object]"==n?e.constructor:void 0,r=t?G(t):void 0;if(r)switch(r){case R:return u;case M:return o;case z:return s;case B:return c;case U:return l}return n});var K=Array.isArray;function q(e){var n;return null!=e&&"number"==typeof(n=e.length)&&n>-1&&n%1==0&&n<=9007199254740991&&!L(e)}var $=C||function(){return!1};function L(e){var n=W(e)?S.call(e):"";return"[object Function]"==n||"[object GeneratorFunction]"==n}function W(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}e.exports=function(e){if(q(e)&&(K(e)||"string"==typeof e||"function"==typeof e.splice||$(e)||e&&"object"==typeof e&&q(e)&&Z.call(e,"callee")&&(!O.call(e,"callee")||"[object Arguments]"==S.call(e))))return!e.length;var n,t,r=H(e);if(r==o||r==c)return!e.size;if(I||(t="function"==typeof(n=e&&e.constructor)&&n.prototype||g,e===t))return!A(e).length;for(var a in e)if(Z.call(e,a))return!1;return!0}},36575:function(e,n,t){"use strict";var r,a=t(71383),i=t(71893).ZP.span(r||(r=(0,a.Z)(["\n  color: #dc3545;\n  margin: 0;\n  padding: 0;\n"])));n.Z=i},39772:function(e,n,t){"use strict";var r,a=t(16835),i=t(50029),o=t(71383),s=t(87794),c=t.n(s),l=t(67294),u=t(11915),d=t(71893),m=t(85330),p=t(3016),f=t(42894),h=t(15812),x=t(36575),b=t(91679),v=t(24444),g=t(85893),j=d.ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"]))),y={idirEmail:"",role:"member",id:new Date().getTime()};n.Z=(0,h.hU)(function(e){var n,t=e.onSubmit,r=e.alert,o=((0,l.useContext)(v.SessionContext)||{}).session,s=(0,l.useState)([y]),d=s[0],h=s[1],w=(0,l.useState)(""),Z=w[0],S=w[1],P=(0,l.useState)(!1),k=P[0],O=P[1],C=(0,l.useState)(null),A=C[0],T=C[1],E=(n=(0,i.Z)(c().mark(function e(){var n,i,s,l,u,m,f,x;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:Z,members:d},i=(0,b.p)(n,o.email),l=(s=(0,a.Z)(i,2))[0],u=s[1],!l){e.next=5;break}return e.abrupt("return",T(u));case 5:return O(!0),e.next=8,(0,p.Cm)(n);case 8:if(m=e.sent,x=(f=(0,a.Z)(m,2))[0],f[1]?r.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to create team. Please try again."}):r.show({variant:"success",fadeOut:1e4,closable:!0,content:"Team ".concat(Z," successfully created")}),!x){e.next=16;break}return e.next=16,t(x.id);case 16:h([y]),S(""),O(!1),T(null),window.location.hash="#";case 21:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,g.jsxs)("div",{children:[(0,g.jsx)(u.default,{label:"Team Name",onChange:function(e){S(e.target.value)},maxLength:"255","data-testid":"team-name",value:Z}),A&&A.name&&(0,g.jsx)(x.Z,{children:null==A?void 0:A.name}),(0,g.jsx)("br",{}),(0,g.jsx)("strong",{children:"Team Members"}),(0,g.jsx)(b.Z,{errors:A,members:d,setMembers:h,currentUser:o}),(0,g.jsxs)(j,{children:[(0,g.jsx)(m.zx,{variant:"secondary",onClick:function(){h([y]),S(""),O(!1),T(null),window.location.hash="#"},children:"Cancel"}),(0,g.jsx)(m.zx,{type:"button",onClick:E,"data-testid":"send-invitation",children:k?(0,g.jsx)(f.rj,{color:"#FFF",height:18,width:50,visible:k}):"Send Invitation"})]})]})})},91679:function(e,n,t){"use strict";t.d(n,{p:function(){return q}});var r,a,i,o,s,c,l,u,d,m,p=t(59499),f=t(27812),h=t(16835),x=t(71383);t(67294);var b=t(11915),v=t(35611),g=t(71893),j=t(48966),y=t.n(j),w=t(99603),Z=t(59417),S=t(36575),P=t(74150),k=t(90352),O=t(91296),C=t.n(O),A=t(69885),T=t(35685),E=t(85893);function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(Object(t),!0).forEach(function(n){(0,p.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var F=g.ZP.div(r||(r=(0,x.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: end;\n  margin-bottom: 10px;\n  grid-gap: 0 1em;\n"]))),I=(0,g.ZP)(v.default)(a||(a=(0,x.Z)(["\n  & .pg-select-wrapper {\n    height: 44px;\n    ","\n  }\n"])),function(e){return e.readOnlyRole?"padding-left:6px;":""}),R=g.ZP.div(i||(i=(0,x.Z)(["\n  border-bottom: 1px solid black;\n  grid-column: 1 / 3;\n"]))),M=g.ZP.span(o||(o=(0,x.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]))),z=g.ZP.section(s||(s=(0,x.Z)(["\n  max-height: 50vh;\n  overflow-y: scroll;\n  padding-left: 1em;\n"]))),B=(0,g.ZP)(F)(c||(c=(0,x.Z)(["\n  grid-template-columns: 2.2fr 0.9fr 1.2fr;\n  align-items: start;\n  margin-bottom: 20px;\n  .email-select > .select-inner__control {\n    padding: 0.13em 0;\n    border: 2px solid #606060;\n    visibility: inherit;\n\n    &:focus-within {\n      outline: 4px solid #3b99fc !important;\n      outline-offset: 2px !important;\n    }\n  }\n"]))),U=(0,g.ZP)(w.G)(l||(l=(0,x.Z)(["\n  align-self: center;\n  color: red;\n  cursor: pointer;\n"]))),_=(0,g.ZP)(w.G)(u||(u=(0,x.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n"]))),H=(0,g.ZP)(w.G)(d||(d=(0,x.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n  color: white;\n  background-color: black;\n"]))),G=g.ZP.p(m||(m=(0,x.Z)(["\n  font-style: italic;\n  font-size: 0.95em;\n"]))),K=C()(function(e,n){if(e.length<=2){n([]);return}(0,A.$J)(e).then(function(e){var t=(0,h.Z)(e,1)[0];return n((null==t?void 0:t.map(function(e){return{value:e.id,label:e.mail}}))||[])})},300,{trailing:!0}),q=function(e,n){var t={name:null,members:[]};return e.name||(t.name="Please enter a name"),e.members.forEach(function(r,a){r.idirEmail?y().isEmail(r.idirEmail)?(e.members.filter(function(e){return e.idirEmail===r.idirEmail}).length>1||r.idirEmail===n)&&(t.members[a]="Please use unique email"):t.members[a]="Please enter a valid email":t.members[a]="Please enter an email"}),[t.name||t.members.length>0,t]};n.Z=function(e){var n=e.errors,t=e.members,r=e.setMembers,a=e.allowDelete,i=void 0===a||a,o=e.currentUser,s=void 0===o?null:o,c=function(e,n){var a=N({},t[n]);a.idirEmail=(null==e?void 0:e.label.toLowerCase())||"";var i=(0,f.Z)(t);i[n]=a,r(i)},l=function(e,n){var a=N({},t[e]);a.role=n.target.value;var i=(0,f.Z)(t);i[e]=a,r(i)},u=function(e){r(t.filter(function(n,t){return t!==e}))};return(0,E.jsxs)("div",{children:[(0,E.jsxs)("p",{children:["Enter your team member’s government email address and they will be sent an invitation to join the project. Once they accept the invitation, they will have access to your project. Their invitation will expire in"," ",(0,E.jsx)("strong",{children:"2 business days"}),"."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("span",{className:"strong",children:"Roles:"}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,E.jsx)(H,{icon:Z.Tab})}),"\xa0\xa0",(0,E.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Admins"}),(0,E.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,E.jsx)("b",{children:"managing"})," powers"]})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,E.jsx)(_,{icon:Z.Tab})}),"\xa0\xa0",(0,E.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Members"}),(0,E.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,E.jsx)("b",{children:"viewing"})," powers"]})]}),(0,E.jsx)("br",{}),(0,E.jsx)("div",{children:(0,E.jsx)("span",{className:"underline",children:(0,E.jsx)(P.default,{external:!0,href:(0,k.eO)("CSS-App-My-Teams#ive-created-a-team-now-what"),children:"View a detailed breakdown of roles on our wiki page"})})})]}),(0,E.jsxs)(z,{children:[(0,E.jsxs)(F,{children:[(0,E.jsx)("strong",{children:"Member"}),(0,E.jsx)("strong",{children:"Role"}),(0,E.jsx)(R,{})]}),(0,E.jsx)(G,{children:"*Please enter email address tied to an IDIR to allow your user to login"}),s&&(0,E.jsxs)(B,{children:[(0,E.jsx)(b.default,{value:(null==s?void 0:s.email)||"",readOnly:!0,fullWidth:!0}),(0,E.jsx)(I,{label:"Role",disabled:!0,value:"admin",readOnlyRole:!0,children:(0,E.jsx)("option",{value:"admin",children:"Admin"})})]}),t.map(function(e,t){return(0,E.jsxs)(B,{children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(T.Z,{loadOptions:K,onChange:function(e){return c(e,t)},noOptionsMessage:function(){return"Start typing email..."},className:"email-select",menuPlacement:"top",maxMenuHeight:120,classNamePrefix:"select-inner",placeholder:"Enter email address"}),n&&n.members&&n.members[t]&&(0,E.jsx)(S.Z,{children:n.members[t]})]}),(0,E.jsxs)(I,{label:"Role",onChange:function(e){return l(t,e)},value:e.role,"data-testid":"user-role",children:[(0,E.jsx)("option",{value:"member",children:"Member"}),(0,E.jsx)("option",{value:"admin",children:"Admin"})]}),t>=0&&i&&(0,E.jsx)(U,{icon:Z.uMC,onClick:function(){return u(t)},title:"Delete","data-testid":"delete-user-role"})]},e.id)}),(0,E.jsxs)(M,{onClick:function(){r([].concat((0,f.Z)(t),[{idirEmail:"",role:"member",id:new Date().getTime(),pending:!0}]))},children:[(0,E.jsx)(w.G,{style:{color:"#006fc4"},icon:Z.KtF,title:"Add Item","data-testid":"add-user-role"}),(0,E.jsx)("span",{children:"Add another team member"})]})]})]})}},71057:function(e,n,t){"use strict";var r=t(83024),a=t(63055),i={shared:{button:"\n      border-radius: 0.222em;\n      border-width: 0;\n      padding: 0.6em 1.1em;\n      text-align: center;\n      text-decoration: none;\n      font-weight: 700;\n      letter-spacing: 1px;\n      display: inline-block;\n      cursor: pointer;\n      box-shadow: 0px 0px 0px 2px transparent inset, 0px 0em 0px 0px rgba(34, 36, 38, 0.15) inset;\n    "},size:{xsmall:{button:"\n        font-size: 0.7rem;\n      "},small:{button:"\n        font-size: 0.8rem;\n      "},medium:{button:"\n        font-size: ".concat(a.n5,";\n      ")},large:{button:"\n        font-size: ".concat(a.zA,";\n      ")}},variant:{primary:{button:"\n        background-color: #D5EDFF;\n        box-shadow: 0px 0px 0px 2px #D5EDFF inset !important;\n        color: #3E3E3E;\n\n        &:hover {\n          text-decoration: underline;\n          background-color: #FFF7D5;\n          box-shadow: 0px 0px 0px 2px #FFF7D5 inset !important;\n          opacity: 0.80;\n        }\n\n        &:active {\n          opacity: 1;\n        }\n      "},grey:{button:"\n        background-color: #B2B2B2;\n        box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        color: #F8F8F8;\n        min-width: 110px;\n\n        &:hover {\n          background-color: ".concat(a.TU,";\n          box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        }\n      ")}}},o=(0,r.applyTheme)(i,{defaultProps:{variant:"primary",size:"medium"},breakProps:[],staticProps:["fullHeight","fullWidth"]});n.Z=o},6178:function(e,n,t){"use strict";var r,a=t(71383);t(67294);var i=t(11163),o=t(46312),s=t(71893),c=t(85330),l=t(59912),u=t(49910),d=t(85893),m=s.ZP.div(r||(r=(0,a.Z)(["\n  height: 100%;\n  overflow: auto;\n"])));n.Z=function(e){var n=e.tab,t=e.leftPanel,r=e.rightPanel,a=e.showResizable;e.children;var s=(0,i.useRouter)(),p=(0,d.jsxs)(c.mQ,{onChange:function(e){s.replace("/my-dashboard/".concat(e))},activeKey:n,tabBarGutter:30,children:[(0,d.jsx)(c.OK,{tab:"My Projects"},"integrations"),(0,d.jsx)(c.OK,{tab:"My Teams"},"teams")]});return(0,d.jsxs)(l.Z,{rules:u.F,children:[p,void 0===a||a?(0,d.jsx)(o.e,{style:{paddingTop:"2px",borderBottom:"3px solid black"},defaultSize:{width:"100%",height:.4*window.innerHeight},enable:{bottom:!0},handleStyles:{bottom:{bottom:0}},children:(0,d.jsx)(m,{children:t&&t()})}):t&&t(),(0,d.jsx)("br",{}),r&&r()]})}},37222:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eJ}});var r,a,i,o,s,c,l,u,d,m,p,f,h,x,b,v,g,j,y,w,Z,S=t(16835),P=t(50029),k=t(87794),O=t.n(k),C=t(67294),A=t(6178),T=t(59499),E=t(71383),D=t(11163),N=t(71893),F=t(85330),I=t(53442),R=t(71057),M=t(35611),z=t(61165),B=t(91679),U=t(37226),_=t(3016),H=t(15812),G=t(76457),K=t(99603),q=t(59417),$=t(31513),L=t(76691),W=t(85893),Y=(0,N.ZP)(K.G)(r||(r=(0,E.Z)(["\n  color: #ff0303;\n"]))),V=N.ZP.div(a||(a=(0,E.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 6fr;\n"]))),X=function(e){var n=e.title,t=e.content,r=e.note;return(0,W.jsxs)(V,{children:[(0,W.jsx)(Y,{icon:q.RLE,size:"3x"}),(0,W.jsxs)("div",{children:[n&&(0,W.jsx)("strong",{children:n}),t&&(0,W.jsx)("p",{children:t}),r&&(0,W.jsx)("i",{children:r})]})]})},J=t(75780),Q=t(64735),ee=t(42894),en=t(63055),et=N.ZP.div(i||(i=(0,E.Z)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-right: 15px;\n  & > * {\n    margin-left: 15px;\n  }\n"]))),er=(0,N.ZP)(K.G)(o||(o=(0,E.Z)(["\n  cursor: ",";\n  ","\n  ",";\n"])),function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.disabled?"color: #CACACA;":"color: inherit; &:hover { color: ".concat(e.activeColor||"#000","; }")},function(e){return e.isUnread?"color: ".concat(en.Uo):""});function ea(e){var n=e.copyOrDownloadAction,t=e.showDeleteModal,r=e.showUpdateModal,a=e.actionsDisabled;return(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(et,{children:[(0,W.jsx)(er,{icon:q.kZ_,role:"button","aria-label":"copy",onClick:function(){return n(!1)},title:"Copy to clipboard",size:"lg",disabled:a}),(0,W.jsx)(er,{icon:q.q7m,role:"button","aria-label":"download",onClick:function(){return n(!0)},title:"Download",size:"lg",disabled:a}),(0,W.jsx)(er,{icon:q.lUd,role:"button","aria-label":"download",onClick:r,title:"Update secret",size:"lg",disabled:a}),(0,W.jsx)(er,{icon:q.$aW,role:"button","aria-label":"delete",onClick:t,title:"Delete",size:"lg",disabled:a})]})})}N.ZP.div(s||(s=(0,E.Z)(["\n  height: 40px;\n  border-right: 2px solid #e3e3e3;\n"])));var ei=t(73923),eo=N.ZP.td(c||(c=(0,E.Z)(["\n  float: right;\n"])));(0,N.ZP)(K.G)(l||(l=(0,E.Z)(["\n  color: #000000;\n"])));var es=N.ZP.div(u||(u=(0,E.Z)(["\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n"])));function ec(){return(0,W.jsx)("span",{style:{float:"right",paddingRight:"2.7em"},children:"Actions"})}N.ZP.div(d||(d=(0,E.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 6fr;\n"])));var el=(0,H.hU)(function(e){var n,t,r,a=e.team,i=e.selectedServiceAccount,o=e.setSelectedServiceAccount,s=e.teamServiceAccounts,c=e.getTeamServiceAccounts,l=e.alert,u="delete-service-account-modal",d="update-service-account-secret-modal",m=function(e){return e&&(null==e?void 0:e.status)!=="applied"&&!(null!=e&&e.archived)},p=function(){m(i)||(window.location.hash=u)},f=(n=(0,P.Z)(O().mark(function e(){var n,t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.yN)(a.id,null==i?void 0:i.id);case 2:if(n=e.sent,(t=(0,S.Z)(n,2))[0],!t[1]){e.next=9;break}return l.show({variant:"danger",content:"Failed to delete service account, please try again."}),e.abrupt("return");case 9:c(a.id);case 10:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),h=function(){m(i)||(window.location.hash=d)},x=(t=(0,P.Z)(O().mark(function e(){var n,t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Gc)(a.id,null==i?void 0:i.id);case 2:n=e.sent,(t=(0,S.Z)(n,2))[0],t[1]&&l.show({variant:"danger",content:"Failed to update secret, please try again."});case 7:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),b=(r=(0,P.Z)(O().mark(function e(n){var t,r,o,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(i)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,_.vM)(a.id,null==i?void 0:i.id);case 4:if(r=e.sent,s=(o=(0,S.Z)(r,2))[0],!o[1]){e.next=11;break}return l.show({variant:"danger",content:"Failed to ".concat(n?"download":"copy",", please try again.")}),e.abrupt("return");case 11:s=s||{},c={tokenUrl:"".concat(s["auth-server-url"],"/realms/").concat(s.realm,"/protocol/openid-connect/token"),clientId:"".concat(s.resource),clientSecret:"".concat(null===(t=s.credentials)||void 0===t?void 0:t.secret)},n?(0,ei.Di)((0,ei.ON)(c),"".concat(null==i?void 0:i.clientId,".json")):(0,ei.TE)((0,ei.ON)(c));case 14:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(I.Z,{headers:[{accessor:"id",Header:"API Account ID"},{accessor:"actions",Header:(0,W.jsx)(ec,{}),disableSortBy:!0}],data:s.map(function(e){return{id:e.id,actions:(0,W.jsx)(eo,{children:(0,W.jsx)(ea,{copyOrDownloadAction:b,showUpdateModal:h,showDeleteModal:p,actionsDisabled:Boolean(m(e))})})}}),colfilters:[],activateRow:function(e){var n=e.cells[0].row.original.id;s.forEach(function(e){e.id==n&&o(e)})},rowSelectorKey:"id"}),(0,W.jsx)(z.Z,{title:"Request a new secret for CSS API Account",icon:q.eHv,onConfirm:x,id:d,content:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(es,{children:(0,W.jsx)("strong",{children:"You are about to request a new secret for CSS API Account"})}),(0,W.jsx)("br",{}),(0,W.jsx)("p",{children:"Once the new secret gets generated, your previous secret will no longer be valid for any applications using it."}),(0,W.jsx)("p",{children:"This means any application using CSS API through this account should be configured with the new secret."})]}),buttonStyle:"custom",confirmText:"Confirm",closable:!0}),(0,W.jsx)(z.Z,{title:"Delete CSS API Account",icon:null,onConfirm:f,id:u,content:(0,W.jsx)(X,{title:"Are you sure that you want to delete this CSS API Account?",content:"Once you delete this CSS PI Account, this action cannot be undone."}),buttonStyle:"danger",confirmText:"Delete CSS API Account",closable:!0})]})}),eu=t(44e3),ed=t(9206),em=t(24444),ep=t(90352);function ef(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var eh=N.ZP.div(m||(m=(0,E.Z)(["\n  padding-left: 1rem;\n  ","\n"])),function(e){return"\n  margin-top: ".concat(e.marginTop||"0",";\n  margin-bottom: ").concat(e.marginBottom||"0",";\n  margin-left: ").concat(e.marginLeft||"0",";\n  margin-right: ").concat(e.marginRight||"0",";\n  ")}),ex=N.ZP.td(p||(p=(0,E.Z)(["\n  float: right;\n"]))),eb=(0,N.ZP)(R.Z)(f||(f=(0,E.Z)(["\n  padding: 0 !important;\n  margin: 10px 0 !important;\n"]))),ev=N.ZP.td(h||(h=(0,E.Z)(["\n  text-align: left !important;\n"]))),eg=N.ZP.div(x||(x=(0,E.Z)(["\n  height: var(--field-top-spacing);\n"])));function ej(){return(0,W.jsxs)("span",{children:["Role\xa0",(0,W.jsx)(J.Z,{title:"",content:'Admin: can manage integrations <span class="strong">and</span> teams. <br> Members: can <span class="strong">only</span> manage integrations.',hide:200})]})}function ey(){return(0,W.jsx)("span",{style:{float:"right",paddingRight:"1.8em"},children:"Actions"})}function ew(){return(0,W.jsx)("span",{style:{float:"right",paddingRight:"0.4em"},children:"Actions"})}var eZ="add-member-modal",eS="delete-member-modal",eP={idirEmail:"",role:"member",pending:!0},ek=function(e){var n=e.onConfirmDelete,t=e.type,r={confirmText:"Delete",buttonStyle:"danger"},a="",i="";switch(t){case"allow":a="Once they are deleted, they will no longer have access to the team's integrations.",i="Are you sure that you want to delete this team member?",r.onConfirm=n;break;case"notAllowed":a="Before you delete the last team admin, you must assign a new admin.",r.confirmText="Okay",r.buttonStyle="custom"}return(0,W.jsx)(z.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ef(Object(t),!0).forEach(function(n){(0,T.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ef(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({title:"Delete Team Member",icon:null,id:eS,content:(0,W.jsx)(X,{content:a,title:i}),closable:!0},r))},eO=(0,N.ZP)(K.G)(b||(b=(0,E.Z)(["\n  margin-right: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),eC=function(e){var n=e.status;if(!n)return null;var t=q.RLE,r="black";return"draft"===n?(t=q.Xcf,r="#1a5a96"):"submitted"===n?(t=q.SZw,r="#fcba19"):["prFailed","applyFailed","planFailed"].includes(n)?(t=q.nYk,r="#ff0303"):"applied"===n&&(r="#2e8540",t=q.f8k),(0,W.jsx)(K.G,{icon:t,title:n,style:{color:r}})},eA=function(e){var n,t,r,a=e.pending,i=e.invitationSendTime;if(!i)return null;var o=new Date().getTime()-new Date(i).getTime();return a&&o/864e5>2?(n=q.RLE,t="#ff0303",r="Invitation Expired"):a?(n=q.SZw,t="#fcba19",r="Invitation Sent"):(t="#2e8540",n=q.f8k,r="Active Member"),(0,W.jsx)(K.G,{icon:n,title:r,style:{color:t}})};N.ZP.div(v||(v=(0,E.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  margin-bottom: 1rem;\n"]))),N.ZP.div(g||(g=(0,E.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  border-bottom: 1px solid gray;\n"])));var eT=N.ZP.div(j||(j=(0,E.Z)(["\n  text-align: center;\n"]))),eE=(0,H.hU)(function(e){var n,t,r,a,i,o,s,c=e.alert,l=e.currentUser,u=e.team,d=e.loadTeams,m=(0,D.useRouter)(),p=(0,C.useState)([]),f=p[0],h=p[1],x=(0,C.useState)([]),b=x[0],v=x[1],g=(0,C.useState)([]),j=g[0],y=g[1],w=(0,C.useState)(null),Z=w[0],k=w[1],A=(0,C.useState)(null),T=A[0],E=A[1],N=(0,C.useState)(null),R=N[0],H=N[1],K=(0,C.useState)([eP]),Y=K[0],V=K[1],X=(0,C.useState)(),J=X[0],en=X[1],et=(0,C.useState)(!1),er=et[0],ea=et[1],ei=(0,C.useState)(),eo=ei[0],es=ei[1],ec=(0,C.useState)("allow"),ef=ec[0],eE=ec[1],eD=(0,C.useContext)(em.SurveyContext),eN=(n=(0,P.Z)(O().mark(function e(n){var t,r,a,i,o,s,c,u,d,m;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ea(!0),e.next=3,Promise.all([(0,_.YY)(n),(0,U.H0)(n)]);case 3:return t=e.sent,a=(r=(0,S.Z)(t,2))[0],i=r[1],s=(o=(0,S.Z)(a,2))[0],c=o[1],d=(u=(0,S.Z)(i,2))[0],m=u[1],c||m?(h([]),H(null),v([])):(h(s),H(s.find(function(e){return e.idirEmail===l.email})),v(d||[])),e.next=12,eF(n);case 12:ea(!1);case 13:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),eF=(t=(0,P.Z)(O().mark(function e(n){var t,r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ea(!0),"admin"!==u.role){e.next=11;break}return e.next=4,(0,_.Sx)(n);case 4:t=e.sent,a=(r=(0,S.Z)(t,2))[0],r[1]?y([]):(y(a),k(a&&a.length>0?a[0]:null)),e.next=13;break;case 11:y([]),k(null);case 13:ea(!1);case 14:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});(0,C.useEffect)(function(){E(null),eN(u.id)},[u.id]),(0,C.useEffect)(function(){Z&&"applied"!==Z.status&&!Z.archived&&E(Z)},[Z]),(0,C.useEffect)(function(){return T&&"applied"!==T.status?(clearInterval(s),s=setInterval((0,P.Z)(O().mark(function e(){var n,t,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.ZT)(u.id,T.id);case 2:n=e.sent,r=(t=(0,S.Z)(n,2))[0],t[1]?clearInterval(s):E(r);case 7:case"end":return e.stop()}},e)})),5e3)):(eF(u.id),E(null)),function(){s&&clearInterval(s)}},[T]);var eI=function(e){e&&((0,$.Wv)(f,e)?eE("allow"):eE("notAllowed"),es(e),window.location.hash=eS)},eR=(r=(0,P.Z)(O().mark(function e(){var n,t,r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,B.p)({name:u.name,members:Y},l.email),r=(t=(0,S.Z)(n,2))[0],a=t[1],!r){e.next=4;break}return en(a),e.abrupt("return");case 4:return e.next=6,(0,_.yG)({members:Y,id:u.id});case 6:if(i=e.sent,!(0,S.Z)(i,2)[1]){e.next=13;break}c.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to add new members. Please ensure the emails you have entered are valid,\n        and reach out to the SSO team if the problem persists"}),e.next=18;break;case 13:return e.next=15,eN(u.id);case 15:V([eP]),window.location.hash="",c.show({variant:"success",fadeOut:1e4,closable:!0,content:"Invited new members to your team!"});case 18:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),eM=(a=(0,P.Z)(O().mark(function e(){var n,t,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!eo||!u.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,_.MH)(Number(eo),u.id);case 4:n=e.sent,(0,S.Z)(n,2)[1]?c.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to delete team member."}):(h(f.filter(function(e){return e.id!==eo})),r=null===(t=f.find(function(e){return e.id===eo}))||void 0===t?void 0:t.idirEmail,c.show({variant:"success",fadeOut:1e4,closable:!0,content:"".concat(r," has successfully been deleted.")}));case 8:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)}),ez=function(e){m.push({pathname:"/my-dashboard/integrations",query:{integr:e}})},eB=(i=(0,P.Z)(O().mark(function e(n){var t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,_.rU)(n,u.id);case 4:t=e.sent,(0,S.Z)(t,2)[1]?c.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to resend invitation."}):c.show({variant:"success",fadeOut:1e4,closable:!0,content:"Sent new invitation for team member ".concat(n.idirEmail)});case 8:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),eU=(o=(0,P.Z)(O().mark(function e(n,t){var r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.zZ)(u.id,n,{role:t});case 2:if(r=e.sent,i=(a=(0,S.Z)(r,2))[0],!a[1]){e.next=9;break}return c.show({variant:"danger",content:"Failed to update user role. Please try again."}),e.abrupt("return");case 9:h(f.map(function(e){return e.id===n?i:e})),c.show({variant:"success",fadeOut:1e4,closable:!0,content:"Member role updated successfully"});case 12:case"end":return e.stop()}},e)})),function(e,n){return o.apply(this,arguments)});if(!u||!R)return null;var e_="admin"===R.role;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("h2",{children:"Team Details"}),(0,W.jsxs)(F.mQ,{defaultActiveKey:"members",tabBarGutter:30,children:[(0,W.jsx)(F.OK,{tab:"Members",children:(0,W.jsxs)(eh,{children:[e_?(0,W.jsx)(eb,{children:(0,W.jsx)(F.zx,{onClick:function(){return window.location.hash=eZ},"data-testid":"add-new-team-member",children:"+ Add New Team Members"})}):(0,W.jsx)("br",{}),(0,W.jsx)(G.Z,{type:"text",rows:7,ready:!er,style:{marginTop:"20px"},children:(0,W.jsx)(I.Z,{"data-testid":"team-members-table",variant:"medium",headers:[{accessor:"status",Header:"Invite Status",disableSortBy:!0},{accessor:"idirEmail",Header:"Email"},{accessor:"role",Header:(0,W.jsx)(ej,{}),disableSortBy:!0},{accessor:"actions",Header:(0,W.jsx)(ew,{}),disableSortBy:!0}],data:f.map(function(e){var n=e_&&R.id!==e.id;return{status:(0,W.jsx)(eA,{pending:e.pending,invitationSendTime:e.createdAt}),idirEmail:e.idirEmail,role:n&&!e.pending?(0,W.jsxs)(M.default,{onChange:function(n){return eU(e.id,n.target.value)},value:e.role,children:[(0,W.jsx)("option",{value:"member",children:"Member"}),(0,W.jsx)("option",{value:"admin",children:"Admin"})]}):(0,$.kC)(e.role),actions:(0,W.jsxs)(ex,{children:[n&&e.pending&&(0,W.jsx)(eO,{icon:q.zBy,size:"lg",onClick:function(){return eB(e)},title:"Resend Invitation",style:{marginRight:"6px"},"data-testid":"resend-invitation"}),n&&(0,W.jsx)(eO,{icon:q.$aW,onClick:function(){return eI(e.id)},size:"lg",title:"Delete User",style:{marginRight:"16px"},"data-testid":"delete-member"})]})}}),colfilters:[],rowSelectorKey:"status",readOnly:!0})})]})},"members"),(0,W.jsx)(F.OK,{tab:"Integrations",children:(0,W.jsx)(eh,{marginTop:"20px",children:(0,W.jsx)(G.Z,{type:"text",rows:7,ready:!er,style:{marginTop:"20px"},children:(0,W.jsx)(I.Z,{variant:"medium",headers:[{accessor:"status",Header:"Status",disableSortBy:!0},{accessor:"id",Header:"Request ID"},{accessor:"projectName",Header:"Project Name"},{accessor:"actions",Header:(0,W.jsx)(ey,{}),disableSortBy:!0}],data:(null==b?void 0:b.length)>0?null==b?void 0:b.map(function(e){return{status:(0,W.jsx)(eC,{status:null==e?void 0:e.status}),id:e.id,projectName:e.projectName,actions:(0,W.jsx)(ex,{children:(0,W.jsx)(L.ZP,{request:e,onDelete:function(){d(),eN(null==u?void 0:u.id)},children:(0,W.jsx)(L.Kk,{icon:q.Mdf,"aria-label":"view",onClick:function(){return ez(e.id)},size:"lg"})})})}}):[],readOnly:!0,colfilters:[],rowSelectorKey:"status",noDataFoundElement:(0,W.jsxs)(ev,{colSpan:5,children:[(0,W.jsx)("br",{}),"There are no integrations for this team yet.",(0,W.jsx)("br",{}),(0,W.jsx)("br",{}),"To add this team to an ",(0,W.jsx)("span",{className:"strong",children:"existing integration"}),":",(0,W.jsx)("span",{className:"line-height-200"}),(0,W.jsxs)("ol",{children:[(0,W.jsxs)("li",{children:["Go to your"," ",(0,W.jsx)("span",{className:"text-blue",children:(0,W.jsx)("span",{className:"strong",children:"Projects"})})," ","tab"]}),(0,W.jsx)("li",{children:"Select the “pencil” icon to edit the integration"}),(0,W.jsx)("li",{children:"Select this team from the “Project Team” drop down"})]}),(0,W.jsx)("br",{}),"To add this team to a ",(0,W.jsx)("span",{className:"strong",children:"new integration"}),":",(0,W.jsx)("span",{className:"line-height-200"}),(0,W.jsxs)("ol",{children:[(0,W.jsxs)("li",{children:["Go to your"," ",(0,W.jsx)("span",{className:"text-blue",children:(0,W.jsx)("span",{className:"strong",children:"Projects"})})," ","tab"]}),(0,W.jsx)("li",{children:"Select “+ Request SSO Integration”"}),(0,W.jsx)("li",{children:"Select “Yes” to allow multiple team members to manage the integration"}),(0,W.jsx)("li",{children:"Select this team from the “Project Team” drop down"})]})]})})})})},"integrations"),e_&&(0,W.jsx)(F.OK,{tab:"CSS API Account",children:(0,W.jsx)(eh,{marginTop:"10px",children:er?(0,W.jsxs)(eT,{children:[(0,W.jsx)(eg,{}),(0,W.jsx)(ee.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0})]}):(0,W.jsxs)(Q.ZP,{cols:10,children:[(0,W.jsxs)(Q.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,W.jsx)(Q.ZP.Col,{span:4,children:j.length>0?(0,W.jsx)(el,{team:u,selectedServiceAccount:Z,setSelectedServiceAccount:k,teamServiceAccounts:j,getTeamServiceAccounts:eF}):(0,W.jsx)(F.zx,{style:{marginBottom:10},onClick:(0,P.Z)(O().mark(function e(){var n,t,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ea(!0),e.next=3,(0,_.rl)(u.id);case 3:n=e.sent,(t=(0,S.Z)(n,2))[0],(r=t[1])?(ea(!1),c.show({variant:"danger",fadeOut:1e4,closable:!0,content:r})):(null==eD||eD.setShowSurvey(!0,"cssApiRequest"),eF(u.id));case 8:case"end":return e.stop()}},e)})),children:"+ Request CSS API Account"})}),(0,W.jsx)(Q.ZP.Col,{span:6,children:T&&(0,W.jsx)("div",{style:{display:"inline-flex",margin:"20px 0 20px 0",background:"#FFCCCB",borderRadius:"5px"},children:(0,W.jsx)("div",{style:{padding:5},children:(0,W.jsxs)(eu.B,{children:["Your request for an API account could not be completed. Please"," ",(0,W.jsx)(ed.rU,{external:!0,href:"mailto:bcgov.sso@gov.bc.ca",children:"contact the Pathfinder SSO Team"})]})})})})]}),j.length>0&&(0,W.jsx)(Q.ZP.Row,{children:(0,W.jsxs)(eu.$,{children:["For more information on how to use the CSS API Account with your integrations,"," ",(0,W.jsx)(ed.rU,{href:"".concat(ep.UN,"/integrating-your-application/css-app-api"),external:!0,children:"click to learn more on our wiki page"}),"."]})})]})})},"service-accounts")]}),(0,W.jsx)(z.Z,{title:"Add a New Team Member",icon:null,id:eZ,content:(0,W.jsx)(B.Z,{members:Y,setMembers:V,allowDelete:e_,errors:J,currentUser:l}),onConfirm:eR,onClose:function(){V([eP]),h([]),en(null)},skipCloseOnConfirm:!0,buttonStyle:"custom",closable:!0}),(0,W.jsx)(ek,{onConfirmDelete:eM,type:ef})]})}),eD=t(39772),eN=t(11915),eF=t(36575),eI=N.ZP.div(y||(y=(0,E.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"])));function eR(e){var n,t=e.onSubmit,r=e.teamId,a=e.initialTeamName,i=(0,C.useState)(""),o=i[0],s=i[1],c=(0,C.useState)(!1),l=c[0],u=c[1],d=(0,C.useState)(),m=d[0],p=d[1];(0,C.useEffect)(function(){s(a)},[a]);var f=function(e){var n={members:[]},t=!1;return(e.name.trim()||(n.name="Please enter a name",t=!0),t)?n:(p(void 0),null)},h=(n=(0,P.Z)(O().mark(function e(){var n,a,i,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=f(n={name:o.trim(),id:r}))){e.next=4;break}return e.abrupt("return",p(a));case 4:return u(!0),e.next=7,(0,_.w2)(n);case 7:return i=e.sent,(s=(0,S.Z)(i,2)[1])&&console.error(s),e.next=13,t();case 13:u(!1),window.location.hash="#";case 15:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,W.jsxs)("div",{children:[(0,W.jsx)(eN.default,{label:"New Team Name",onChange:function(e){s(e.target.value)},value:o,"data-testid":"edit-name"}),m&&m.name&&(0,W.jsx)(eF.Z,{children:null==m?void 0:m.name}),(0,W.jsx)("br",{}),(0,W.jsxs)(eI,{children:[(0,W.jsx)(F.zx,{variant:"secondary",onClick:function(){s(a),window.location.hash="#"},style:{marginRight:"20px"},"data-testid":"cancel-edit-name",children:"Cancel"}),(0,W.jsx)(F.zx,{type:"button",onClick:h,"data-testid":"save-edit-name",children:l?(0,W.jsx)(ee.rj,{color:"#FFF",height:18,width:50,visible:l}):"Save"})]})]})}var eM=t(31637),ez=t(20353),eB=t(34798),eU=t.n(eB);function e_(e){var n=e.team,t=e.showEditTeamNameModal,r=e.showDeleteModal,a=(0,ez.te)(n),i=(0,ez.VV)(n);return(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(L.c4,{children:[(0,W.jsx)(L.Kk,{disabled:!i,icon:q.Xcf,role:"button","aria-label":"edit",title:"Edit",size:"lg",onClick:function(){return i?t(n):eU()},"data-testid":"edit-team-button"}),(0,W.jsx)(L.Kk,{disabled:!a,icon:q.$aW,role:"button","aria-label":"delete",title:"Delete",size:"lg",onClick:function(){return a?r(n):eU()},style:{marginLeft:"7px"},"data-testid":"delete-team-button"})]})})}var eH=t(99245),eG=t.n(eH),eK=t(48398),eq="delete-team-modal",e$="edit-team-name-modal",eL=N.ZP.tr(w||(w=(0,E.Z)(["\n  float: right;\n  padding-right: 0.5em;\n"])));function eW(){return(0,W.jsx)("span",{style:{float:"right",paddingRight:"1em"},children:"Actions"})}var eY=(0,N.ZP)(F.zx)(Z||(Z=(0,E.Z)(["\n  &&& {\n    margin: 0;\n  }\n"]))),eV=function(e){var n=e.handleNewTeamClick;return(0,W.jsx)(eY,{size:"large",onClick:n,variant:"callout",children:"+ Create a New Team"})};function eX(e){var n,t,r,a=e.currentUser,i=e.setTeam,o=e.loading,s=e.teams,c=e.loadTeams,l=e.hasError,u=(0,C.useState)(null),d=u[0],m=u[1],p=(0,C.useState)(void 0),f=p[0],h=p[1],x=(0,C.useState)([]),b=x[0],v=x[1],g=d&&0===Number(d.integrationCount),j=function(e){m(e),h(null==e?void 0:e.id),i(e)},y=(n=(0,P.Z)(O().mark(function e(){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((null==d?void 0:d.role)!=="admin"){e.next=9;break}return e.next=3,(0,_.Sx)(f);case 3:n=e.sent,v((0,S.Z)(n,1)[0]),e.next=10;break;case 9:v([]);case 10:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});(0,C.useEffect)(function(){(null==s?void 0:s.length)>0?f&&s.find(function(e){return e.id===f})||j(s[0]):j(null)},[s]),(0,C.useEffect)(function(){Number(null==d?void 0:d.serviceAccountCount)>0&&y()},[f]);var w=(t=(0,P.Z)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.location.hash=ep.zw);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),Z=function(e){j(e),f===e.id&&(window.location.hash=eq)},k=function(e){j(e),window.location.hash=e$},A=l?(0,W.jsx)(eK.q1,{}):s&&(null==s?void 0:s.length)!==0?(0,W.jsx)(I.Z,{headers:[{accessor:"name",Header:"Team Name"},{accessor:"actions",Header:(0,W.jsx)(eW,{}),disableSortBy:!0}],data:s&&s.map(function(e){return{teamId:e.id,name:e.name,actions:(0,W.jsx)(eL,{children:(0,W.jsx)(e_,{team:e,showEditTeamNameModal:k,showDeleteModal:Z})})}}),activateRow:function(e){var n=e.cells[0].row.original.teamId;s.forEach(function(e){e.id==n&&j(e)})},rowSelectorKey:"teamId",activeSelector:f,colfilters:[]}):(0,W.jsx)(eK.Vs,{message:"You have not been added to any teams yet."}),T=(r=(0,P.Z)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return b.length>0&&Promise.all(b.map(function(e){(0,_.yN)(f,e.id)})),e.next=5,(0,_.fC)(f);case 5:return e.next=7,c();case 7:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)});return o?(0,W.jsx)(eM.Z,{}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("br",{}),(0,W.jsx)(eV,{handleNewTeamClick:w}),(0,W.jsx)("br",{}),(0,W.jsx)("br",{}),A,(0,W.jsx)(z.Z,{title:"Create a New Team",icon:null,onConfirm:function(){return console.log("confirm")},id:ep.zw,content:(0,W.jsx)(eD.Z,{onSubmit:c,currentUser:a}),showCancel:!1,showConfirm:!1,closable:!0}),(0,W.jsx)(z.Z,{title:"Edit Team Name",icon:null,onConfirm:function(){return console.log("confirm")},id:e$,content:(0,W.jsx)(eR,{onSubmit:c,teamId:f,initialTeamName:(null==d?void 0:d.name)||""}),showCancel:!1,showConfirm:!1,closable:!0}),(0,W.jsx)(z.Z,{title:"Delete team",icon:null,onConfirm:T,id:eq,content:(0,W.jsx)(X,{title:"Are you sure that you want to delete this team?",content:g?"Once you delete this team, this action cannot be undone.":"Before you delete this team, you will need to delete the integration(s) the team is responsible for.",note:g&&!eG()(b)?"*By deleting this team, you are also deleting the CSS App API Account that belongs to this team.":""}),buttonStyle:g?"danger":"custom",confirmText:g?"Delete Team":"Okay",closable:!0})]})}var eJ=function(e){var n,t=e.session,r=(0,C.useState)(!0),a=r[0],i=r[1],o=(0,C.useState)(!1),s=o[0],c=o[1],l=(0,C.useState)(null),u=l[0],d=l[1],m=(0,C.useState)([]),p=m[0],f=m[1],h=(n=(0,P.Z)(O().mark(function e(){var n,t,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(0,_.Dc)();case 3:n=e.sent,r=(t=(0,S.Z)(n,2))[0],c(!!t[1]),f(r||[]),i(!1);case 10:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,C.useEffect)(function(){h()},[]),(0,W.jsx)(A.Z,{tab:"teams",leftPanel:function(){return(0,W.jsx)(eX,{currentUser:t,setTeam:d,loading:a,teams:p,loadTeams:h,hasError:s})},rightPanel:function(){return u&&(0,W.jsx)(eE,{team:u,currentUser:t,loadTeams:h})}})}},73923:function(e,n,t){"use strict";t.d(n,{Di:function(){return i},ON:function(){return r},TE:function(){return a}});var r=function(e){return JSON.stringify(e,void 0,2)},a=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(e){return document.body.removeChild(n),!1}},i=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",r=window.URL.createObjectURL(new Blob([e],{type:t})),a=document.createElement("a");a.href=r,a.setAttribute("download",n),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},69137:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-dashboard/teams",function(){return t(37222)}])},27812:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(52587),a=t(2937);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[650,830,908,584,954,774,888,179],function(){return e(e.s=69137)}),_N_E=e.O()}]);